System.register(["./chunk-vendor.js","./chunk-frameworks.js","./chunk-overview.js","./chunk-get-repo-element.js","./chunk-input-demux.js","./chunk-ref-selector.js","./chunk-spoofed-commit-warning.js"],function(){"use strict";var w,_e,Le,$,Ce,j,g,c,Q,Ae,Ie,Te,Pe,N,J,xe,Ee,U,De,Oe,Me,Re,$e,Ne,Ue,Be,Fe;return{setters:[function(u){w=u.t,_e=u.b,Le=u.d,$=u.c,Ce=u.h,j=u.f,g=u.o,c=u.a,Q=u.r,Ae=u.C,Ie=u.e,Te=u.af,Pe=u.j},function(u){N=u.e,J=u.q,xe=u.c,Ee=u.r,U=u.A,De=u.z,Oe=u.P,Me=u.aE,Re=u.aG,$e=u.m,Ne=u.aF,Ue=u.y,Be=u.aT},function(){},function(u){Fe=u.G},function(){},function(){},function(){}],execute:function(){var u=Object.defineProperty,At=Object.getOwnPropertyDescriptor,He=(e,t)=>u(e,"name",{value:t,configurable:!0}),k=(e,t,r,n)=>{for(var s=n>1?void 0:n?At(t,r):t,o=e.length-1,a;o>=0;o--)(a=e[o])&&(s=(n?a(t,r,s):a(s))||s);return n&&s&&u(t,r,s),s};let b=class extends HTMLElement{constructor(){super(...arguments);this.abortSearch=null,this.originalSelectedItem=null}submit(e){e.preventDefault()}resetField(e){if(Ce(e)!=="Escape")return;const t=this.field.value.trim();this.field.value="",t&&this.search()}reset(){this.field.focus(),this.field.value="",j(this.field,"input")}get activeFilter(){var e;return(e=this.filters.find(t=>t.classList.contains("selected")))!=null?e:null}async search(){var e;this.originalSelectedItem||(this.originalSelectedItem=this.activeFilter);const t=this.field.value.trim().length>0,r=We(this.field);this.classList.toggle("is-search-mode",t),this.classList.add("is-loading");for(const s of this.filters)s.classList.remove("selected");t?this.allFilter.classList.add("selected"):this.originalSelectedItem&&(this.originalSelectedItem.classList.add("selected"),this.originalSelectedItem=null),(e=this.abortSearch)==null||e.abort();const{signal:n}=this.abortSearch=new AbortController;try{const s=await N(document,r,{signal:n});J(null,"",r),this.result.innerHTML="",this.result.appendChild(s)}catch{}n.aborted||this.classList.remove("is-loading")}};He(b,"BranchFilterElement"),k([w],b.prototype,"field",2),k([w],b.prototype,"result",2),k([w],b.prototype,"allFilter",2),k([_e],b.prototype,"filters",2),k([Le(100)],b.prototype,"search",1),b=k([$],b);function We(e){const t=e.form;if(e.value.trim()){const r=new URL(t.action,window.location.origin),n=new URLSearchParams(r.search.slice(1)),s=t.elements.namedItem("utf8");return s instanceof HTMLInputElement&&n.append("utf8",s.value),n.append("query",e.value),r.search=n.toString(),r.toString()}return t.getAttribute("data-reset-url")}He(We,"queryUrl");var ze=Object.defineProperty,It=Object.getOwnPropertyDescriptor,Tt=(e,t)=>ze(e,"name",{value:t,configurable:!0}),Y=(e,t,r,n)=>{for(var s=n>1?void 0:n?It(t,r):t,o=e.length-1,a;o>=0;o--)(a=e[o])&&(s=(n?a(t,r,s):a(s))||s);return n&&s&&ze(t,r,s),s};let x=class extends HTMLElement{get branch(){return this.getAttribute("branch")}get branches(){const t=this.closest("branch-filter").querySelectorAll("branch-filter-item");return Array.from(t).filter(r=>r.branch===this.branch)}loading(e){for(const t of this.branches)t.spinner.hidden=!e,t.destroyButton&&(t.destroyButton.hidden=e)}set mode(e){for(const t of this.branches)t.classList.toggle("Details--on",e==="restore")}async restore(e){e.preventDefault(),this.loading(!0);const t=e.target;let r;try{r=await fetch(t.action,{method:t.method,body:new FormData(t),headers:{"X-Requested-With":"XMLHttpRequest"}})}catch{}finally{(!r||!r.ok)&&location.reload(),this.loading(!1)}this.mode="destroy"}async destroy(e){e.preventDefault(),this.loading(!0);const t=e.target;let r;try{r=await fetch(t.action,{method:t.method,body:new FormData(t),headers:{"X-Requested-With":"XMLHttpRequest"}})}catch{}finally{(!r||!r.ok)&&location.reload(),this.loading(!1)}this.mode="restore"}};Tt(x,"BranchFilterItemElement"),Y([w],x.prototype,"destroyButton",2),Y([w],x.prototype,"spinner",2),x=Y([$],x),g(".js-new-badge-autodismiss",{constructor:HTMLFormElement,add:e=>{const t=e.closest("details");t.addEventListener("toggle",()=>{t.hasAttribute("open")&&fetch(e.action,{method:e.method,body:new FormData(e),headers:{"X-Requested-With":"XMLHttpRequest"}})})}}),g(".js-fetch-upstream-details-content",{constructor:HTMLElement,initialize(e){e.hidden=!0}}),c("click",".js-fetch-upstream-summary",async function(){const e=document.querySelector("details.js-fetch-upstream-details"),t=e.querySelector(".js-fetch-upstream-details-spinner");if(e.open){t.hidden=!1;return}if(t.hidden)return;const r=e.querySelector(".js-fetch-upstream-details-content"),n=r.querySelector(".js-fetch-upstream-conflicts-ui"),s=r.querySelector(".js-fetch-upstream-no-conflicts-ui"),o=r.querySelector(".js-fetch-upstream-conflicts-error-message"),a=r.querySelector(".js-fetch-upstream-conflicts-no-error-message");if(parseInt(r.getAttribute("data-behind"))===0){n.hidden=!0,s.hidden=!1,r.hidden=!1,t.hidden=!0;return}const l=r.getAttribute("data-mergeability-check-url"),d=await fetch(l,{headers:{Accept:"application/json"}});r.hidden=!1,t.hidden=!0,d.ok?(await d.json()).state==="clean"?s.hidden=!1:n.hidden=!1:(n.hidden=!1,o.hidden=!1,a.hidden=!0)}),g(".repository-import",{subscribe:e=>xe(e,"socket:message",function(t){const r=t.detail.data;r.redirect_to&&(document.location.href=r.redirect_to,t.stopImmediatePropagation())})}),c("change","input.js-repository-import-lfs-opt",function({currentTarget:e}){const t=parseInt(e.getAttribute("data-percent-used")||""),r=e.closest(".js-repository-import-lfs-container"),n=e.getAttribute("data-used")||"";r.querySelector(".js-repository-import-lfs-warn").classList.toggle("d-none",!(t>100)),r.querySelector(".js-usage-bar").classList.toggle("exceeded",t>=100),r.querySelector(".js-usage-bar").setAttribute("aria-label",`${t}%`),r.querySelector(".js-repository-import-lfs-progress").style.width=`${t}%`,r.querySelector("span.js-usage-text").textContent=n}),Q(".js-repository-import-author-form",async function(e,t){const r=await t.html();e.closest(".js-repository-import-author").replaceWith(r.html)}),c("click",".js-repository-import-projects-cancel-button",function(){const e=document.querySelector(".js-repository-import-projects-cancel-form");Ee(e)});var Pt=Object.defineProperty,h=(e,t)=>Pt(e,"name",{value:t,configurable:!0});let Ge=!1;function Xe(){return document.querySelector(".js-privacy-toggle:checked").value==="private"}h(Xe,"privateRepoSelected");function Z(){const e=document.querySelector(".js-repo-name");j(e,"input");const t=document.querySelector('.js-owner-container [aria-checked="true"]'),r=t.getAttribute("data-org-allow-public-repos")!=="false",n=document.querySelector(".js-privacy-toggle[value=public]"),s=document.querySelector(".js-privacy-toggle-label-public"),o=document.querySelector(".js-public-description"),a=document.querySelector(".js-public-restricted-by-policy-description");ee(r,n,s,o,a);const i=t.getAttribute("data-business-id"),l=Qe(i,t),d=t.getAttribute("data-org-allow-private-repos")!=="false",f=document.querySelector(".js-privacy-toggle[value=private]"),p=document.querySelector(".js-privacy-toggle-label-private"),A=document.querySelector(".js-private-description"),S=document.querySelector(".js-private-restricted-by-policy-description");ee(d,f,p,A,S),Ve();const bt=t.getAttribute("data-org-private-restricted-by-plan")!=="false",I=document.querySelector(".js-upgrade-private-description"),St=t.getAttribute("data-org-show-upgrade")!=="false",vt=t.getAttribute("data-org-name"),T=vt?document.querySelector(`a[data-upgrade-link="${vt}"]`):null,P=document.querySelector(".js-ask-owner-message");d||!bt?(I&&(I.hidden=!0),T&&(T.hidden=!0),P&&(P.hidden=!0)):(S&&(S.hidden=bt),I&&(I.hidden=!1),T&&(T.hidden=!St),P&&(P.hidden=St));const Xt=t.getAttribute("data-default-new-repo-branch"),qt=document.querySelector(".js-new-repo-owner-default-branch");qt&&(qt.textContent=Xt);const Vt=t.getAttribute("data-owner-settings-link-prefix"),wt=document.querySelector(".js-new-repo-owner-settings-link-prefix");wt&&(wt.textContent=Vt);const kt=t.getAttribute("data-owner-settings-url"),X=document.querySelector(".js-repo-owner-default-branch-settings-link-container"),V=document.querySelector(".js-org-repo-owner-default-branch-settings-info");if(kt){const v=document.querySelector(".js-new-repo-owner-settings-link");v&&(v.href=kt,X&&(X.hidden=!1)),V&&(V.hidden=!0)}else if(X&&(X.hidden=!0,V)){const v=t.hasAttribute("data-viewer-is-org-admin");V.hidden=!v}const Kt=t.getAttribute("data-org-show-trade-controls")==="true",_t=t.getAttribute("data-viewer-is-org-admin")==="true",ve=t.getAttribute("data-user-show-trade-controls")==="true",qe=Kt&&!d,q=document.querySelector(".js-trade-controls-description"),K=document.querySelector(".js-individual-trade-controls-description");ve||qe?(S&&(!ve&&!_t&&qe?S.hidden=!1:S.hidden=!0),f.disabled=!0,A&&(A.hidden=!0),I&&(I.hidden=!0),T&&(T.hidden=!0),P&&(P.hidden=!0)):(q&&(q.hidden=!0),K&&(K.hidden=!0)),ve?(q&&(q.hidden=!0),K&&(K.hidden=!1)):qe&&q&&(_t?q.hidden=!1:q.hidden=!0),Ke(t,n,l,f),Je(t.getAttribute("data-permission")==="yes"),Ye(),te();const we=document.querySelector(".js-quick-install-container");if(we){const v=we.querySelector(".js-quick-install-divider");v.hidden=!0;const Lt=document.querySelector("input[name=owner]:checked").parentElement;if(Lt){const ke=Lt.querySelector(".js-quick-install-list-template");if(ke instanceof HTMLTemplateElement){const Ct=we.querySelector(".js-account-apps");Ct.innerHTML="",Ct.append(ke.content.cloneNode(!0)),ke.children.length>0&&(v.hidden=!1)}}}}h(Z,"handleOwnerChange");function ee(e,t,r,n,s){e?(t&&(t.disabled=!1),r&&r.classList.remove("color-fg-muted"),n&&(n.hidden=!1),s&&(s.hidden=!0)):(t&&(t.disabled=!0),r&&r.classList.add("color-fg-muted"),n&&(n.hidden=!0),s&&(s.hidden=!1))}h(ee,"enableDisableRepoType");function Ve(){const e=document.querySelectorAll('.js-org-upgrade-link:not([hidden=""]');for(const t of e)t.hidden=!0}h(Ve,"hideOrgUpgradeLinks");function Ke(e,t,r,n){let s=null;if(e.getAttribute("data-default")==="private"&&!n.disabled?s=n:e.getAttribute("data-default")==="internal"&&r&&!r.disabled?s=r:t&&!t.disabled?s=t:r&&!r.disabled&&(s=r),!s)return;const o=t&&t.disabled&&t.checked||n.disabled&&n.checked||r&&r.disabled&&r.checked,a=(!t||!t.checked)&&(!r||!r.checked)&&!n.checked;(Ge===!1||o===!0||a===!0)&&(s.checked=!0,j(s,"change"))}h(Ke,"ensureOneRadioIsSelected");function Qe(e,t){let r=!1;const n=document.querySelectorAll(".js-new-repo-internal-visibility");for(const s of n){s.hidden=!0;const o=s.querySelector(".js-privacy-toggle[value=internal]");o instanceof HTMLInputElement&&o.checked&&(r=!0)}if(e){const s=document.querySelector(`#new-repo-internal-visibility-${e}`);if(s){s.hidden=!1;const o=s.querySelector(".js-privacy-toggle-label-internal"),a=s.querySelector(".js-internal-description"),i=s.querySelector(".js-internal-restricted-by-policy-description"),l=s.querySelector(".js-privacy-toggle[value=internal]");if(l instanceof HTMLInputElement)return t.getAttribute("data-org-allow-internal-repos")==="false"?(l.disabled=!0,o&&o.classList.add("color-fg-muted"),a&&(a.hidden=!0),i&&(i.hidden=!1)):(r&&(l.checked=!0,j(l,"change")),l.disabled=!1,o&&o.classList.remove("color-fg-muted"),a&&(a.hidden=!1),i&&(i.hidden=!0)),l}}return null}h(Qe,"updateInternalDiv");function Je(e){for(const n of document.querySelectorAll(".js-with-permission-fields"))n.hidden=!e;for(const n of document.querySelectorAll(".js-without-permission-fields"))n.hidden=e;const t=document.querySelector(".errored"),r=document.querySelector("dl.warn");t&&(t.hidden=!e),r&&(r.hidden=!e)}h(Je,"togglePermissionFields");function te(e){const t=document.querySelector("#js-upgrade-container");if(!t)return;const r=t.querySelector(".js-billing-section"),n=t.querySelector(".js-confirm-upgrade-checkbox");let s=e?e.target:null;s||(s=document.querySelector(".js-privacy-toggle:checked")),s.value==="false"?(t.hidden=!1,r&&r.classList.remove("has-removed-contents"),n&&(n.checked=!0)):(t.hidden=!0,r&&r.classList.add("has-removed-contents"),n&&(n.checked=!1)),y()}h(te,"handlePrivacyChange");function Ye(){const e=document.querySelector("#js-upgrade-container");if(!e)return;const t=document.querySelector("#js-payment-methods-form");e.firstElementChild&&t.appendChild(e.firstElementChild);const r=document.querySelector("input[name=owner]:checked").value,n=t.querySelector(`.js-upgrade[data-login="${r}"]`);n&&e.appendChild(n)}h(Ye,"updateUpsell");function y(){const e=document.querySelector(".js-repo-form"),t=e.querySelector(".js-repository-owner-choice:checked"),r=e.querySelector(".js-repo-name"),n=e.querySelector(".js-repo-url"),s=e.querySelector(".js-repo-gitignore"),o=e.querySelector(".js-repo-license");let a=n?!n.classList.contains("is-autocheck-errored"):!0;if(a=a&&!!t,a&&r&&(a=r.classList.contains("is-autocheck-successful"),Xe()&&(a=a&&Ze())),s&&s.checked){const l=e.querySelector('input[name="repository[gitignore_template]"]:checked');a=a&&l.value!==""}if(o&&o.checked){const l=e.querySelector('input[name="repository[license_template]"]:checked');a=a&&l.value!==""}const i=e.querySelector("button[type=submit]");i.disabled=!a}h(y,"validate");function Ze(){const e=document.querySelector("#js-upgrade-container");if(!e)return!0;if(e.querySelector(".js-ofac-sanction-notice"))return!1;const r=e.querySelector(".js-confirm-upgrade-checkbox");if(r instanceof HTMLInputElement&&!r.checked)return!1;const n=e.querySelector(".js-zuora-billing-info");return!(n&&n.classList.contains("d-none"))}h(Ze,"validBillingInfo");function et(e){const t=e.closest(".js-repo-init-setting-container");if(!t)return;const r=t.querySelector(".js-repo-init-setting-unchecked-menu-option");r.checked||(r.checked=!0,j(r,"change"))}h(et,"onRepoInitSettingUnchecked");function tt(e){const t=e.closest(".js-repo-init-setting-container");if(!t)return;const r=t.querySelector(".js-toggle-repo-init-setting");r.checked&&(r.checked=!1,j(r,"change"))}h(tt,"onRepoInitNoneMenuOptionSelected");function rt(e){const t=e.closest("form"),r=t.querySelector(".js-new-repo-default-branch-info");if(!r)return;const s=t.querySelectorAll(".js-toggle-new-repo-default-branch-info:checked").length>0;r.hidden=!s}h(rt,"toggleDefaultBranchInfo"),g("#js-upgrade-container .js-zuora-billing-info:not(.d-none)",y),g(".js-page-new-repo",function(){const e=document.querySelector("#js-upgrade-container");e&&(e.hidden=!0),Z();const t=document.querySelector(".js-repo-form"),r=t.querySelector(".js-repo-url");if(r){r.focus();return}const n=t.querySelector(".js-template-repository-select");if(n){n.focus();return}const s=t.querySelector(".js-owner-select");s&&s.focus()}),c("click",".js-reponame-suggestion",function(e){const t=document.querySelector(".js-repo-name");t.value=e.currentTarget.textContent,j(t,"input",!1)}),c("click",".js-privacy-toggle",function(){Ge=!0}),c("change",".js-privacy-toggle",te),c("details-menu-selected",".js-owner-container",Z,{capture:!0}),c("change","#js-upgrade-container input",y),U("#js-upgrade-container input",y);const xt=h(e=>{const t=document.querySelector(".js-org-profile");if(t){const r=document.querySelector(".js-owner-container input.js-repository-owner-is-org:checked"),n=e.target,s=!(r&&n.value.toLowerCase()===".github");t.hidden=s;const o=document.querySelector("#repo-name-suggestion");o.hidden=!s}},"renderOrgProfileHint"),Et=h(e=>{const t=document.querySelector(".js-personal");if(t){const r=document.querySelector(".js-owner-container input.js-repository-owner-is-viewer"),n=e.target,s=!(r&&r.checked&&r.defaultValue.toLowerCase()===n.value.toLowerCase());t.hidden=s;const o=document.querySelector("#repo-name-suggestion");o.hidden=!s}},"renderPersonalProfileHint");U(".js-owner-reponame .js-repo-name",function(e){Et(e),xt(e),y()}),c("auto-check-send",".js-repo-name-auto-check",function(e){const n=e.currentTarget.form.querySelector("input[name=owner]:checked").value;e.detail.body.append("owner",n)}),c("auto-check-complete","#repository_name",function(){y()}),U(".js-repo-url",function(e){const t=e.target;if(!(t instanceof HTMLInputElement))return;const r=t.closest(".form-group");if(!(r instanceof HTMLDListElement))return;const n=document.querySelector(".js-insecure-url-warning"),s=document.querySelector(".js-svn-url-error"),o=document.querySelector(".js-git-url-error"),a=t.value.toLowerCase();n.hidden=!a.startsWith("http://"),s.hidden=!a.startsWith("svn://"),o.hidden=!a.startsWith("git://"),a.startsWith("svn://")||a.startsWith("git://")?(t.classList.add("is-autocheck-errored"),r.classList.add("errored")):(t.classList.remove("is-autocheck-errored"),r.classList.remove("errored")),y()}),c("change",".js-toggle-repo-init-setting",e=>{const t=e.currentTarget;t.checked||et(t),y()}),c("change",".js-repo-init-setting-unchecked-menu-option",e=>{const t=e.currentTarget;t.checked&&tt(t),y()}),c("change",".js-repo-init-setting-menu-option",y),c("change",".js-repo-readme",y),c("change",".js-toggle-new-repo-default-branch-info",e=>{const t=e.currentTarget;rt(t)});var Dt=Object.defineProperty,re=(e,t)=>Dt(e,"name",{value:t,configurable:!0});g(".js-pulse-contribution-data",e=>{st(e)});async function nt(e){return N(document,e)}re(nt,"diffstatCall");async function st(e){const t=e.getAttribute("data-pulse-diffstat-summary-url");let r;try{t&&(r=await nt(t),ot(r,e))}catch{const s=e.querySelector(".js-blankslate-loading"),o=e.querySelector(".js-blankslate-error");s.classList.add("d-none"),o.classList.remove("d-none")}}re(st,"loadContributionData");function ot(e,t){t.innerHTML="",t.appendChild(e)}re(ot,"showContributionData");var Ot=Object.defineProperty,m=(e,t)=>Ot(e,"name",{value:t,configurable:!0});async function ne(e){const t=e.form,r=t.querySelector("#release_draft");r.value="1",E(e,"saving");const n=await fetch(t.action,{method:t.method,body:new FormData(t),headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}});if(!n.ok){E(e,"failed");return}const s=await n.json();return E(e,"saved"),setTimeout(E,5e3,e,"default"),j(t,"release:saved",{release:s}),s}m(ne,"saveDraft"),c("change",".js-releases-marketplace-publish-field",function(e){se(e.currentTarget)}),g(".js-releases-marketplace-publish-field",function(e){se(e)});function se(e){const r=e.closest(".js-releases-marketplace-publish-container").querySelector(".js-releases-marketplace-publish-preview");e.checked?r.classList.remove("d-none"):r.classList.add("d-none")}m(se,"processMarketplacePublishCheckbox"),c("click",".js-save-draft",function(e){const t=e.currentTarget;ne(t),e.preventDefault()});function E(e,t){for(const r of e.querySelectorAll(".js-save-draft-button-state"))r.hidden=r.getAttribute("data-state")!==t;e.disabled=t==="saving"}m(E,"setState"),c("release:saved",".js-release-form",function(e){const t=e.detail.release,r=e.currentTarget,n=r.getAttribute("data-repo-url"),s=t.update_url||le("tag",n,t.tag_name);if(r.setAttribute("action",s),t.update_authenticity_token){const i=r.querySelector("input[name=authenticity_token]");i.value=t.update_authenticity_token}const o=t.edit_url||le("edit",n,t.tag_name);J(De(),document.title,o);const a=r.querySelector("#release_id");if(!a.value){a.value=t.id;const i=document.createElement("input");i.type="hidden",i.name="_method",i.value="put",r.appendChild(i)}}),c("click",".js-publish-release",function(){document.querySelector("#release_draft").value="0"});function _(e){const t=document.querySelector(".js-release-target-wrapper");if(t!=null){switch(at(e),e){case"valid":case"invalid":case"duplicate":t.hidden=!0;break;case"loading":break;default:t.hidden=!1}for(const r of document.querySelectorAll(".js-tag-status-message"))r.hidden=r.getAttribute("data-state")!==e;H(),L("pending")}}m(_,"setTagWrapperState");function oe(){return document.querySelector(".js-release-tag").getAttribute("data-state")}m(oe,"getTagState");function at(e){document.querySelector(".js-release-tag").setAttribute("data-state",e)}m(at,"setTagState");const it=new WeakMap;function B(e){const t=e.querySelector('input[name="release[tag_name]"]:checked');return t==null?void 0:t.value}m(B,"getTagName");async function ae(e){const t=B(e);if(!t){_("empty");return}if(t===it.get(e))return;_("loading"),it.set(e,t);const r=e.getAttribute("data-url"),n=new URL(r,window.location.origin),s=new URLSearchParams(n.search.slice(1));s.append("tag_name",t),n.search=s.toString();const o=await fetch(n.toString(),{headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}});if(!o.ok){_("invalid");return}const a=await o.json();a.status==="duplicate"&&parseInt(e.getAttribute("data-existing-id"))===parseInt(a.release_id)?_("valid"):(document.querySelector(".js-release-tag .js-edit-release-link").setAttribute("href",a.url),_(a.status)),ue(e)}m(ae,"checkTag"),c("click",".js-generate-release-notes",function(e){const t=e.currentTarget;t.disabled||ct(t)});async function ct(e){L("loading"),e.disabled=!0;const r=`${e.getAttribute("data-repo-url")}/releases/notes`,n=new URL(r,window.location.origin),s=new URLSearchParams(n.search.slice(1));s.append("commitish",ce()),s.append("tag_name",B(document)||""),n.search=s.toString();const o=await fetch(n.toString(),{headers:{Accept:"application/json"}});if(o.ok){const a=await o.json();if(a.commitish===ce()){const i=document.getElementById("release_body"),l=ie()==="generated"?"":i.value.trim();l?i.value=l.concat(`

`,a.body):i.value=a.body;const d=document.getElementById("release_name");d.value||(d.value=a.title),L("succeed"),F(l?"generated-and-edited":"generated");const f=document.querySelector(".js-release-body-warning");f.textContent=a.warning_message,f.hidden=!a.warning_message}}else{L("failed"),e.disabled=!1;const a=await o.json();if(a&&a.error){const i=document.querySelector(".js-comment-form-error");i.textContent=a.error,i.hidden=!1}}}m(ct,"generateNotes");const Mt=["pending","loading","succeed","failed"];function L(e){if(Mt.map(t=>{const r=document.getElementById(`generate-icon-${t}`);r&&(t===e?r.removeAttribute("hidden"):r.setAttribute("hidden","true"))}),e!=="failed"){const t=document.querySelector(".js-comment-form-error");t.textContent="",t.hidden=!0}}m(L,"setGeneratedNotesFetchState");function F(e){const t=document.getElementById("generated_notes_state");t.value=e}m(F,"setNotesTrackingState");function ie(){return document.getElementById("generated_notes_state").value}m(ie,"getNotesTrackingState");function ce(){var e;return oe()==="valid"?B(document)||"":((e=document.querySelector('input[name="release[target_commitish]"]:checked'))==null?void 0:e.value)||""}m(ce,"getCommitish");function le(e,t,r){return`${t}/releases/${e}/${r}`}m(le,"releasesUrl"),g(".js-release-tag",m(function(t){ae(t)},"initialize"));function ue(e){const r=e.closest("form").querySelector(".js-previewable-comment-form");if(!r)return;let n=r.getAttribute("data-base-preview-url");n||(n=String(r.getAttribute("data-preview-url")),r.setAttribute("data-base-preview-url",n));const s=e.querySelectorAll('input[name="release[tag_name]"], input[name="release[target_commitish]"]:checked'),o=new URL(n,window.location.origin),a=new URLSearchParams(o.search.slice(1));for(const i of s)i.value&&a.append(i.name,i.value);o.search=a.toString(),r.setAttribute("data-preview-url",o.toString())}m(ue,"processChangedTag");function H(e=!1){const t=document.querySelector(".js-generate-release-notes");if(t){const r=oe(),n=r!=="valid"&&r!=="pending";t.disabled=e||n,t.ariaLabel=`${t.disabled?"Select a valid tag to a":"A"}utomatically add the markdown for all the merged pull requests from this diff and contributors of this release`}}m(H,"refreshGenerateNotesButton");function de(e){if(e.value==="")H(),L("pending"),F("initial");else{const t=ie();H(t!=="initial"),t==="generated"&&F("generated-and-edited")}}m(de,"processChangedBody"),c("click",".js-release-expand-btn",async function(e){const t=e.currentTarget.closest(".js-release-expandable"),r=t.getAttribute("data-expand-url"),n=await N(document,r);t==null||t.replaceWith(n)}),g("#release_body",function(e){const t=e;t.addEventListener("input",function(){de(t)}),de(t)}),c("change",".js-release-tag",function(e){ae(e.currentTarget)}),g(".js-release-form .js-previewable-comment-form",function(e){const t=e.closest("form").querySelector(".js-release-tag");ue(t)});var Rt=Object.defineProperty,fe=(e,t)=>Rt(e,"name",{value:t,configurable:!0});let W,pe;async function D(e){const t=document.querySelector(".js-release-stack").getAttribute("data-stack-url"),r=new URL(t,window.location.origin);let n;switch(M({target_found:!0,template_found:!0,loading:!0},"tag"),e.id){case"tag-list":{const s=e.querySelector('input[name="release[tag_name]"]:checked');if(!s)return;n=await O(r,"ref",s),!n.target_found&&!!W&&(n=await O(r,pe,W)),M(n,"tag");break}case"filter-list-branches":{const s=e.querySelector('input[name="release[target_commitish]"]:checked');if(!s)return;W=s,pe="ref",n=await O(r,"ref",s),M(n,"branch");break}case"filter-list-tags":{const s=e.querySelector('input[name="release[target_commitish]"]:checked');if(!s)return;W=s,pe="oid",n=await O(r,"oid",s),M(n,"commit");break}}}fe(D,"validateStack");const me=new WeakMap;async function O(e,t,r){if(me.has(r))return me.get(r);const n=new URLSearchParams(e.search.slice(1));n.append(t,r.value),e.search=n.toString();const s=await fetch(e.toString(),{headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}});let o={target_found:!1};return s.ok&&(o=await s.json(),o.target_found=!0),me.set(r,o),o}fe(O,"getStackStatus");const $t={branding:"Icon and color found in stack template.",template:"Contains all the required information.",readme:"File exists."};function M(e,t){if(!e.target_found)return;const r=document.querySelector(".js-releases-marketplace-banner-container"),n=document.querySelector(".js-releases-marketplace-publish-heading"),s=document.querySelector(".js-publish-release");let o=!1;if(s.disabled=n.hidden=r.hidden=!e.template_found,!e.template_found)return;const a=["branding","template","readme"];for(const i of a){let l;e.loading?l="loading":l=e[i]?"failure":"success",l==="failure"&&(o=!0);const d=r.querySelector(`#${i}-row`);for(const p of d.querySelectorAll(".status-icon"))p.hidden=p.getAttribute("data-state")!==l;const f=d.querySelector(".js-status-text");for(const p of["color-fg-attention","color-fg-danger","color-fg-muted"])f.classList.remove(p);switch(l){case"success":f.textContent=$t[i],f.classList.add("color-fg-muted");break;case"failure":f.textContent=e[i],f.classList.add("color-fg-danger");break;case"loading":f.textContent="Loading...",f.classList.add("color-fg-attention")}for(const p of d.querySelectorAll(".js-modify-button")){const A=`${i}_path`;p.setAttribute("href",e[A]),t==="branch"&&l!=="loading"?p.hidden=p.getAttribute("data-state")!==l:p.hidden=!0}}s.disabled=o}fe(M,"updateStackChecks"),c("change",".js-release-stack #filter-list-branches",e=>D(e.currentTarget)),c("change",".js-release-stack #filter-list-tags",e=>D(e.currentTarget)),c("change",".js-release-stack #tag-list",e=>D(e.currentTarget)),g(".js-release-stack #filter-list-branches",function(e){D(e)});var Nt=Object.defineProperty,Ut=(e,t)=>Nt(e,"name",{value:t,configurable:!0});const lt="<BRANCH>";function ut(e){const t=e.closest(".js-rename-branch-form");let r=e.value;const n=r!==e.defaultValue&&r!=="",s=t.querySelector(".js-rename-branch-autocheck-message");if(s&&n){let o=!1;r=s.getAttribute("data-shell-safe-name")||lt,r.includes("<")&&(o=!0);for(const i of t.querySelectorAll(".js-rename-branch-new-name"))i.textContent=r;r=s.getAttribute("data-shell-safe-name-with-remote")||`origin/${lt}`,r.includes("<")&&(o=!0);for(const i of t.querySelectorAll(".js-rename-branch-new-name-with-remote"))i.textContent=r;const a=t.querySelector(".js-rename-branch-special-characters-documentation");a&&o&&(a.hidden=!1,a.removeAttribute("aria-hidden"))}}Ut(ut,"updateRenameInstructions"),c("auto-check-message-updated",".js-rename-branch-input",function(e){const t=e.currentTarget;ut(t)});var Bt=Object.defineProperty,Ft=(e,t)=>Bt(e,"name",{value:t,configurable:!0});const dt=Ft(e=>{const t=document.querySelector(ft);if(t){const r=e.value.length===0;t.disabled=r}},"toggleSubmit"),ft='form.js-protected-branch-settings button[type="submit"]';g(ft,{add(){const e=document.getElementById("rule_field");e&&(dt(e),e.addEventListener("input",()=>dt(e)))}}),c("change",".js-template-repository-choice",function(e){const t=e.target,r=t.checked&&t.value!=="",n=t.form;n.querySelector(".js-repository-auto-init-options").classList.toggle("has-removed-contents",r);const o=n.querySelectorAll(".js-template-repository-setting"),a=n.querySelectorAll(".js-template-repository-name-display");if(r){const l=t.closest(".js-template-repository-choice-container").querySelector(".js-template-repository-name"),d=t.getAttribute("data-owner"),f=n.querySelector(`.js-repository-owner-choice[value="${d}"]`);if(f instanceof HTMLInputElement)f.checked=!0,j(f,"change");else{const p=n.querySelector(".js-repository-owner-choice.js-repository-owner-is-viewer");p.checked=!0,j(p,"change")}for(const p of a)p.textContent=l.textContent}else for(const i of a)i.textContent="";for(const i of o)i.hidden=!r});const ge=$e(Ne);Oe("keydown",".js-tree-finder-field",e=>{e.key==="Escape"&&(e.preventDefault(),history.back())}),g(".js-tree-finder",e=>{const t=e.querySelector(".js-tree-finder-field"),r=e.querySelector(".js-tree-finder-virtual-filter"),n=e.querySelector(".js-tree-browser"),s=e.querySelector(".js-tree-browser-results"),o=e.querySelector(".js-tree-browser-result-template"),a=new Ae(t,s);r.filter=(i,l)=>l===""||Me(l,i)&&ge(l,i)>0,r.addEventListener("virtual-filter-input-filter",()=>{n.updating="lazy"}),r.addEventListener("virtual-filter-input-filtered",()=>{n.updating="eager"}),n.addEventListener("virtual-list-sort",i=>{i.preventDefault();const l=t.value;n.sort((d,f)=>ge(l,f)-ge(l,d))}),n.addEventListener("virtual-list-update",()=>{a.stop()}),n.addEventListener("virtual-list-updated",()=>{a.start(),a.navigate()}),n.addEventListener("virtual-list-render-item",i=>{if(!(i instanceof CustomEvent))return;const l=new Ie(o,{item:i.detail.item,id:`entry-${Math.random().toString().substr(2,5)}`}),d=l.querySelector("marked-text");d&&(d.positions=Re),i.detail.fragment.append(l)}),n.querySelector("ul").hidden=!1,t.focus(),a.start()});var Ht=Object.defineProperty,C=(e,t)=>Ht(e,"name",{value:t,configurable:!0});let R=null;const he=new WeakMap;function pt(e,t){const n=e.closest(".js-upload-manifest-file-container").querySelector(".js-upload-progress");n.hidden=!1,e.classList.add("is-progress-bar");const s=n.querySelector(".js-upload-meter-text"),o=s.querySelector(".js-upload-meter-range-start");o.textContent=String(t.uploaded()+1);const a=s.querySelector(".js-upload-meter-range-end");a.textContent=String(t.size)}C(pt,"showProgress");function ye(e){e.classList.remove("is-progress-bar");const t=e.closest(".js-upload-manifest-file-container"),r=t.querySelector(".js-upload-progress");r.hidden=!0;const n=t.querySelector(".js-upload-meter-text .js-upload-meter-filename");n.textContent=""}C(ye,"hideProgress"),c("file-attachment-accept",".js-upload-manifest-file",function(e){const{attachments:t}=e.detail,r=parseInt(e.currentTarget.getAttribute("data-directory-upload-max-files")||"",10);t.length>r&&(e.preventDefault(),e.currentTarget.classList.add("is-too-many"))}),c("document:drop",".js-upload-manifest-tree-view",async function(e){const{transfer:t}=e.detail,r=e.currentTarget,n=await Te.traverse(t,!0),s=document.querySelector("#js-repo-pjax-container");s.addEventListener("pjax:success",()=>{s.querySelector(".js-upload-manifest-file").attach(n)},{once:!0});const o=r.getAttribute("data-drop-url");Ue({url:o,container:s})}),c("upload:setup",".js-upload-manifest-file",async function(e){const{batch:t,form:r,preprocess:n}=e.detail,s=e.currentTarget;pt(s,t);function o(){r.append("upload_manifest_id",he.get(s))}if(C(o,"addInfo"),he.get(s)){o();return}if(R){n.push(R.then(o));return}const i=s.closest(".js-upload-manifest-file-container").querySelector(".js-upload-manifest-form");R=fetch(i.action,{method:i.method,body:new FormData(i),headers:{Accept:"application/json"}});const[l,d]=mt();n.push(l.then(o));const f=await R;if(!f.ok)return;const p=await f.json(),S=document.querySelector(".js-manifest-commit-form").elements.namedItem("manifest_id");S.value=p.upload_manifest.id,he.set(s,p.upload_manifest.id),R=null,d()});function mt(){let e;return[new Promise(r=>{e=r}),e]}C(mt,"makeDeferred"),c("upload:start",".js-upload-manifest-file",function(e){const{attachment:t,batch:r}=e.detail,o=e.currentTarget.closest(".js-upload-manifest-file-container").querySelector(".js-upload-progress").querySelector(".js-upload-meter-text"),a=o.querySelector(".js-upload-meter-range-start");a.textContent=r.uploaded()+1;const i=o.querySelector(".js-upload-meter-filename");i.textContent=t.fullPath}),c("upload:complete",".js-upload-manifest-file",function(e){const{attachment:t,batch:r}=e.detail,s=document.querySelector(".js-manifest-commit-file-template").querySelector(".js-manifest-file-entry").cloneNode(!0),o=s.querySelector(".js-filename");o.textContent=t.fullPath;const a=t.id,l=s.querySelector(".js-remove-manifest-file-form").elements.namedItem("file_id");l.value=a;const d=document.querySelector(".js-manifest-file-list");d.hidden=!1,e.currentTarget.classList.add("is-file-list"),d.querySelector(".js-manifest-file-list-root").appendChild(s),r.isFinished()&&ye(e.currentTarget)}),c("upload:progress",".js-upload-manifest-file",function(e){const{batch:t}=e.detail,n=e.currentTarget.closest(".js-upload-manifest-file-container").querySelector(".js-upload-meter");n.style.width=`${t.percent()}%`});function je(e){ye(e.currentTarget)}C(je,"onerror"),c("upload:error",".js-upload-manifest-file",je),c("upload:invalid",".js-upload-manifest-file",je),Q(".js-remove-manifest-file-form",async function(e,t){await t.html();const r=e.closest(".js-manifest-file-list-root");if(e.closest(".js-manifest-file-entry").remove(),!r.hasChildNodes()){const s=r.closest(".js-manifest-file-list");s.hidden=!0,document.querySelector(".js-upload-manifest-file").classList.remove("is-file-list")}});async function gt(e){const t=e.getAttribute("data-redirect-url");try{await Be(e.getAttribute("data-poll-url")),window.location.href=t}catch{document.querySelector(".js-manifest-ready-check").hidden=!0,document.querySelector(".js-manifest-ready-check-failed").hidden=!1}}C(gt,"manifestReadyCheck"),g(".js-manifest-ready-check",{initialize(e){gt(e)}});var Wt=Object.defineProperty,ht=(e,t)=>Wt(e,"name",{value:t,configurable:!0});c("click",".js-release-remove-file",function(e){const t=e.currentTarget.closest(".js-release-file");t.classList.add("delete"),t.querySelector("input.destroy").value="true"}),c("click",".js-release-undo-remove-file",function(e){const t=e.currentTarget.closest(".js-release-file");t.classList.remove("delete"),t.querySelector("input.destroy").value=""});function be(e){return e.closest("form").querySelector("#release_id").value}ht(be,"getReleaseId");let z=null;c("release:saved",".js-release-form",function(e){const t=e.currentTarget;z=null;let r=!1;for(const s of t.querySelectorAll(".js-releases-field .js-release-file"))s.classList.contains("delete")?s.remove():s.classList.contains("js-template")||(r=!0);const n=t.querySelector(".js-releases-field");n.classList.toggle("not-populated",!r),n.classList.toggle("is-populated",r)});function Se(e,t){t.append("release_id",be(e));const r=Array.from(document.querySelectorAll(".js-releases-field .js-release-file.delete .id"));if(r.length){const n=r.map(s=>s.value);t.append("deletion_candidates",n.join(","))}}ht(Se,"addInfo"),c("upload:setup",".js-upload-release-file",function(e){const{form:t,preprocess:r}=e.detail,n=e.currentTarget;if(be(n)){Se(n,t);return}if(!z){const o=document.querySelector(".js-save-draft");z=ne(o)}const s=Se.bind(null,n,t);r.push(z.then(s))}),c("upload:start",".js-upload-release-file",function(e){const t=e.detail.policy;e.currentTarget.querySelector(".js-upload-meter").classList.remove("d-none");const n=t.asset.replaced_asset;if(!!n)for(const s of document.querySelectorAll(".js-releases-field .js-release-file .id"))Number(s.value)===n&&s.closest(".js-release-file").remove()}),c("upload:complete",".js-upload-release-file",function(e){const{attachment:t}=e.detail,r=document.querySelector(".js-releases-field"),n=r.querySelector(".js-template").cloneNode(!0);n.classList.remove("d-none","js-template"),n.querySelector("input.id").value=t.id;const s=t.name||t.href.split("/").pop();for(const i of n.querySelectorAll(".js-release-asset-filename"))i instanceof HTMLInputElement?i.value=s:i.textContent=s;const o=`(${(t.file.size/(1024*1024)).toFixed(2)} MB)`;n.querySelector(".js-release-asset-filesize").textContent=o,r.appendChild(n),r.classList.remove("not-populated"),r.classList.add("is-populated"),e.currentTarget.querySelector(".js-upload-meter").classList.add("d-none")}),c("upload:progress",".js-upload-release-file",function(e){const{attachment:t}=e.detail,r=e.currentTarget.querySelector(".js-upload-meter");r.style.width=`${t.percent}%`});var yt=Object.defineProperty,zt=Object.getOwnPropertyDescriptor,Gt=(e,t)=>yt(e,"name",{value:t,configurable:!0}),jt=(e,t,r,n)=>{for(var s=n>1?void 0:n?zt(t,r):t,o=e.length-1,a;o>=0;o--)(a=e[o])&&(s=(n?a(t,r,s):a(s))||s);return n&&s&&yt(t,r,s),s};let G=class extends HTMLElement{constructor(){super(...arguments);this.count=0}connectedCallback(){g("get-repo",{constructor:Fe,add:e=>{this.handleGetRepoElement(e)}})}handleGetRepoElement(e){!e.openOrCreateInCodespace||(this.count===0?e.showOpenOrCreateInCodespace():e.removeOpenOrCreateInCodespace())}};Gt(G,"RepoCodespacesCountElement"),jt([Pe],G.prototype,"count",2),G=jt([$],G)}}});
//# sourceMappingURL=repositories-9a3fe97a.js.map
